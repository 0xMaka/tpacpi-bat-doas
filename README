tpacpi-bat - ThinkPad ACPI Battery Util

Exposes ACPI interface for battery controls.
-force discharge
-inhibit charge
-start charge threshold
-stop charge threshold

This project is licensed under the GPLv3. See COPYING for details.
Copyright 2011 Elliot Wolk

Usage:
  Show this message:
    tpacpi-bat [-h|--help]

  Get inhibit charge / force discharge / thresholds:
    tpacpi-bat [-v] ST -g <bat{1,2}>
    tpacpi-bat [-v] SP -g <bat{1,2}>
    tpacpi-bat [-v] IC -g <bat{1,2,0}>
    tpacpi-bat [-v] FD -g <bat{1,2}>

  Set inhibit charge / force discharge / thresholds:
    tpacpi-bat [-v] ST -s <bat{1,2,0}> <percent{0,1-99}>
    tpacpi-bat [-v] SP -s <bat{1,2,0}> <percent{0,1-99}>
    tpacpi-bat [-v] IC -s <bat{1,2,0}> <inhibit{1,0}> [<min{0,1-720,65535}>]
    tpacpi-bat [-v] FD -s <bat{1,2}> <discharge{1,0}> [<acbreak{1,0}>]

  Set peak shift state, which is mysterious and inhibits charge
    tpacpi-bat [-v] PS -s <inhibit{1,0}> [<min{0,1-1440,65535}>]

  Synonyms:
    ST -> --st|--startThreshold|--start|st|startThreshold|start
    SP -> --sp|--stopThreshold|--stop|sp|stopThreshold|stop
    IC -> --ic|--inhibitCharge|--inhibit|ic|inhibitCharge|inhibit
    FD -> --fd|--forceDischarge|fd|forceDischarge
    PS -> --ps|--peakShiftState|ps|peakShiftState

    -v           show ASL call and response
    <bat>        1 for main, 2 for secondary, 0 for either/both
    <min>        minutes, or 0 for never, or 65535 for forever
    <percent>    0 for default, 1-99 for percentage
    <inhibit>    1 for inhibit, 0 for dont inhibit
    <discharge>  1 for force discharge, 0 for stop forcing discharge
    <acbreak>    1 for stop forcing when AC is detached, 0 for do not
    [] means optional: sets value to 0

    *likely bug in BIOS code
     in the docs, inhibit-charge and peak-shift-state both indicate the same
     number of bits for minutes, but inhibit shifts the bits left
